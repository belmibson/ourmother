<!doctype html>
<html>
<head>
  <title>OUR MOTHER</title>
  <style type="text/css">
  img {
   width: 100%;
   height :100%;
 }

 #wrapper {
   position:absolute;
   width:610px;
   height: 610px;
   left: 0px;
   top: 0px;
   margin:0 auto 0 auto;
 }
 #trans {
   position:absolute;
   width:610px;
   height: 610px;
   left: 0px;
   top: 0px;
   z-index: 2;
 }
 #planet {
position: absolute;
width: 610px;
height: 610px;
left: 0px;
top: 0px;
z-index: 1;
}
 #contact {
   position: absolute;
   bottom: 35px;
 }
 p {

   color: #666666;
   margin-left: 10px;
   margin-top: 2px;
   font-weight: 100;
   font: 11px "Lucida Grande","Lucida Sans",Arial,sans-serif;
   -webkit-font-smoothing: antialiased;
 }          


 </style>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
 <script>
 (function() {
  var $;
  $ = jQuery;
  (function($){var g,d,j=1,a,b=this,f=!1,h="postMessage",e="addEventListener",c,i=b[h];$[h]=function(k,l,m){if(!l){return}k=typeof k==="string"?k:$.param(k);m=m||parent;if(i){m[h](k,l.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(l){m.location=l.replace(/#.*$/,"")+"#"+(+new Date)+(j++)+"&"+k}}};$.receiveMessage=c=function(l,m,k){if(i){if(l){a&&c();a=function(n){if((typeof m==="string"&&n.origin!==m)||($.isFunction(m)&&m(n.origin)===f)){return f}l(n)}}if(b[e]){b[l?e:"removeEventListener"]("message",a,f)}else{b[l?"attachEvent":"detachEvent"]("onmessage",a)}}else{g&&clearInterval(g);g=null;if(l){k=typeof m==="number"?m:typeof k==="number"?k:100;g=setInterval(function(){var o=document.location.hash,n=/^#?\d+&/;if(o!==d&&n.test(o)){d=o;l({data:o.replace(n,"")})}},k)}}}})(jQuery);;
  $.fn.stratus = function(settings) {
    return $.stratus(settings);
  };
  $.stratus = function(settings) {
    var root_url, src;
    root_url = settings.env === 'development' ? 'http://example.com:3000' : 'http://stratus.sc';
    $('head').append("<link rel='stylesheet' href='" + root_url + "/stratus.css' type='text/css'/>");
    if (settings.align === 'top') {
      $('head').append("<style>#stratus{ top: 0; }</style>");
    }
    if (settings.position === 'absolute') {
      $('head').append("<style>#stratus{ position: absolute; }</style>");
    }
    if (settings.offset) {
      $('head').append("<style>#stratus{ " + settings.align + ": " + settings.offset + "px !important; }</style>");
    }
    $('body').append("<div id='stratus'><iframe allowtransparency='true' frameborder='0' scrolling='0'></div>");
    src = root_url + '/player?' + $.param(settings, true) + '&link=' + encodeURIComponent(document.location.href);
    $('#stratus iframe').attr({
      src: src
    });
    $('#stratus iframe').load(function() {
      return $(this).css({
        visibility: 'visible'
      });
    });
    $('#stratus').show();
    $('a.stratus').click(function() {
      $.postMessage($(this).attr('href'), src, $('#stratus iframe')[0].contentWindow);
      return false;
    });
    return $.receiveMessage(function(e) {
      return $('#stratus').toggleClass('open');
    }, root_url);
  };
}).call(this);

</script>
<script type="text/javascript">
$(document).ready(function(){
  $.stratus({
    auto_play: true,
    links: 'https://soundcloud.com/ourmother/age-of-empirez-1'
  });
});
</script>

</head>
<body>
  <a href="https://soundcloud.com/ourmother">
   <div id="wrapper">
     <div id="trans">
      <img src="http://i1088.photobucket.com/albums/i339/johnmatthewhartley/gold_zps7655c1b4.gif" />
    </div>
    <div id="planet">
      <img src="http://i1088.photobucket.com/albums/i339/johnmatthewhartley/gold_zps7655c1b4.gif" />
    </div>
  </div>
</a>



</body>
<script type="text/javascript">

$(document).ready(function(){

 var width = parseInt($(window).width()) - 610;
 width = width/2;
 width = width+'px';

 var top = parseInt($(window).height()) - 585;
 top = top/2;
 top = top - 35;
 top = top+'px';



 $('#wrapper').css({
   'left': width,
   'top' : top
 });


});

op = 0;



$(function() {
  var x = 0.05;
  var $elie = $("#trans");
  var $p = $('#planet');
  rotate(0);
  


  
  function rotate(degree) {
    $('#trans').css({
          'opacity':op
        });
  $('#planet').css({
          'opacity':op

        });
    if (op <= 1){
      op = op + 0.05
    }
      
      
      deg = degree+x;
      x = x+0.01;
      // For webkit browsers: e.g. Chrome
      $elie.css({ WebkitTransform: 'rotate(' + degree + 'deg)'});
      $p.css({ WebkitTransform: 'rotate(' + deg + 'deg)'});
      
      // For Mozilla browser: e.g. Firefox
      $elie.css({ '-moz-transform': 'rotate(' + degree + 'deg)'});
      $p.css({ WebkitTransform: 'rotate(' + deg + 'deg)'});

      // Animate rotation with a recursive call
      degree = degree + 0.05;
      //generate random number
      var random = Math.floor(Math.random()*11);
      if (random < 5){
        $('#trans').css({
            'z-index': -1
        });
        
      }
      else {
        $('#trans').css({
            'z-index': 2
        });
        
      }
      setTimeout(function() { 
       rotate(degree); },16);
    }
  });
</script>
</html>